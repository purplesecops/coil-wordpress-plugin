/*! Coil Web Monetization for WordPress v1.9.0 Wednesday 9th March 2022 09:40:12 AM GMT+0200 */
!function(c){if("undefined"!=typeof coilParams&&function(){let e;try{e=document.querySelector(coilParams.content_container)}catch(e){return console.error("An error occured when attempting to retrieve the page. Invalid container."),!1}if(e)return!0;return console.error("An error occured when attempting to retrieve the page. Container not found."),!1}()){const C=coilParams.content_container,k=coilParams.paywall_title,S=coilParams.loading_content,q=coilParams.paywall_message,E=coilParams.coil_button_unpaid_message,j=coilParams.coil_button_paid_message,B=Boolean(coilParams.show_coil_button_to_members),A=Boolean(coilParams.show_coil_button_on_mobile),T=coilParams.coil_button_link,M=coilParams.post_excerpt,Q=coilParams.admin_missing_id_notice,H=coilParams.paywall_button_text,I=coilParams.paywall_button_link,N=coilParams.coil_message_branding,D=coilParams.coil_button_theme,F=coilParams.coil_button_size,G=coilParams.coil_button_position,J=coilParams.button_margin_top,K=coilParams.button_margin_right,O=coilParams.button_margin_bottom,R=coilParams.button_margin_left,U=Boolean(coilParams.coil_button_enabled),V=coilParams.site_logo,W=coilParams.coil_logo,X=coilParams.coil_logo_streaming,Y=coilParams.coil_logo_white,Z=coilParams.coil_logo_white_streaming,$=coilParams.exclusive_message_theme,ee=Boolean(coilParams.font_selection),oe=wp.template("subscriber-only-message"),te=wp.template("split-content-message"),ne=wp.template("coil-button-message"),ie=c("p.monetize-msg");let i=!1;function e(e,o){const t=document.createElement("p");return t.classList.add("monetize-msg"),o&&t.classList.add(o),t.innerHTML=e,t}function o(e){const o=document.createElement("div");o.classList.add("entry-content","coil-message-container"),"dark"===$&&o.classList.add("coil-dark-theme"),ee&&o.classList.add("coil-inherit-theme-font");let t="";"site_logo"===N?t='<img src="'+V+'">':"coil_logo"===N&&"dark"===$?t='<img src="'+Y+'">':"coil_logo"===N&&(t='<img src="'+W+'">');e={headerLogo:t,title:k,content:e,button:{text:H,href:I}};return c(o).append(oe(e)),o}function s(e){var o=G.split("-"),t=o[0],n=o[1];const i=document.createElement("div");c(i).addClass("coil-button-message-container "+t+" "+n),A||c(i).addClass("hide-mobile-coil-button");let s="";s="light"===D?(i.classList.add("coil-light-theme"),W):Y,"small"===F&&i.classList.add("coil-button-small");o={headerLogo:s,button:{text:e,href:T}};c(i).append(ne(o));t=a(J),n=a(K),e=a(O),o=a(R);return c(i).find(".coil-button").css({"margin-top":t+"px","margin-right":n+"px","margin-bottom":e+"px","margin-left":o+"px"}),i}function t(){var e=g(),o=0!==c(".coil-button-message-container").length,t=w(),n=0!==c("p.monetize-msg").length,i=0!==c(".coil-message-container").length;!e||o||t||n||i||(c("body").append(s(E)),_(),y())}function a(e){return 0<=e.search(/[^1234567890-]/i)?"0":e}function n(e){return te(e)}function r(){const e=document.querySelector(C);e&&(e.style.display="block")}function l(){if(""!==M){const e=document.createElement("p");return e.classList.add("coil-post-excerpt"),e.innerHTML=M,e}}function m(){return jQuery("p.coil-post-excerpt").remove()}function d(){var e=document.body.classList.contains("coil-monetized"),o=document.body.classList.contains("coil-public");return e&&o}function u(){return document.body.classList.contains("coil-exclusive")}function g(){return U&&document.body.classList.contains("show-coil-button")}function p(){var e=document.body.classList.contains("coil-monetized"),o=document.body.classList.contains("coil-gate-tagged-blocks");return e&&o}function b(){return".content-area .entry-content"===C}function f(){return!!document.body.classList.contains("coil-show-excerpt")}function h(){0<c("p.monetize-msg").length&&(c("p.monetize-msg").remove(),u()?f()&&l()?(document.body.classList.add("show-excerpt-message"),c(C).before(o(q)),c(C).prepend(l())):(document.body.classList.add("show-fw-message"),c(C).before(o(q))):p()?(c(".coil-show-monetize-users").prepend(n(q)),c(".coil-show-monetize-users").css("display","block"),r()):(document.body.classList.add("show-fw-message"),document.querySelector(C).before(o(q))))}function _(){c("#js-coil-button-dismiss").on("click",function(){w()||(Cookies.set("ShowCoilButtonMsg",1,{expires:31}),c(this).parent().parent().remove())})}function y(){c(".coil-button").hover(function(){c("#js-coil-button-dismiss").css("display","block")},function(){c("#js-coil-button-dismiss").css("display","none")})}function w(){var e=Cookies.get("ShowCoilButtonMsg");return void 0!==e&&"1"===e}function v(){document.body.classList.contains("coil-missing-id")?(document.body.classList.contains("coil-show-admin-notice")?c(C).before(e(Q,"admin-message")):c("body").removeClass("coil-missing-id"),d()||b()||(r(),c(C+"*.coil-hide-monetize-users").css("display","none"),c(C+"*.coil-show-monetize-users").css("display","none")),c("body").trigger("coil-missing-id")):d()||(u()&&f()?(c(C).before(l()),c(C).after(e(S,""))):document.querySelector(C).before(e(S,"")),setTimeout(function(){ie.html(S)},2e3),setTimeout(function(){m(),h()},5e3)),t()}function z(){(u()||p())&&(m(),function(){const e=document.querySelector(C);e&&(e.style.display="none")}(),document.querySelector(C).before(e(S,""))),setTimeout(function(){!1===i&&c("p.monetize-msg").text()===S&&h()},5e3),t()}function L(e){i=!0;let o="";var t,n;document.body.classList.contains("show-fw-message")&&c("body").removeClass("show-fw-message"),c("body").removeClass("monetization-not-initialized").addClass("monetization-initialized"),ie.remove(),f()&&c("p.coil-post-excerpt").remove(),u()?c(".entry-content.coil-message-container").remove():p()&&(c(".coil-show-monetize-users").removeClass("coil-show-monetize-users"),c(".coil-split-content-message").remove(),c("*.coil-hide-monetize-users").css("display","none")),r(),document.querySelectorAll("iframe, object, video").forEach(function(e){return!(!e.classList.contains("intrinsic-ignore")&&!e.parentNode.classList.contains("intrinsic-ignore"))||void(e.dataset.origwidth||(e.setAttribute("data-origwidth",e.width),e.setAttribute("data-origheight",e.height)))}),c("body").trigger("coil-monetization-initialized",[e]),0<c("p.monetize-msg").length&&c("p.monetize-msg").remove(),jQuery(window).trigger("resize"),B?(t=g(),n=0!==c(".coil-button-message-container").length,e=w(),o="light"===D?X:Z,n?(c(".coil-button a img").attr("src",o),c(".coil-button div").text(j)):t&&!e&&(c("body").append(s(j)),c(".coil-button a img").attr("src",o),_(),y())):c(".coil-button-message-container").remove()}function P(e){var o=e.detail.paymentPointer,t=e.detail.requestId,n=e.detail.amount,i=e.detail.assetCode,s=e.detail.assetScale;c("body").trigger("coil-monetization-progress",[e,o,t,n,i,s])}function x(){if(document.body.classList.contains("monetization-not-initialized"))if(d()||b()||c(C).not(".coil-post-excerpt").hide(),void 0!==document.monetization){switch(document.monetization.state){case"pending":v();break;case"started":document.querySelector(C).before(e(S,"")),c(".coil-message-container").remove();break;case"stopped":z()}document.monetization.addEventListener("monetizationstart",L),document.monetization.addEventListener("monetizationprogress",P)}else window.Cypress&&window.Cypress.monetized||(c("body").removeClass("monetization-not-initialized").addClass("coil-extension-not-found"),u()?(c(C).before(o(q)),f()&&l()?(document.body.classList.add("show-excerpt-message"),c(C).prepend(l())):document.body.classList.add("show-fw-message")):p()?(c(".coil-show-monetize-users").prepend(n(q)),r()):t(),c("body").trigger("coil-extension-not-found"))}c(document).ready(function(){document.addEventListener("coilstart",L),x()})}}(jQuery);