/*! Coil Web Monetization for WordPress v1.9.0 Wednesday 16th February 2022 17:12:15 PM GMT+0200 */
!function(c){if("undefined"!=typeof coilParams&&function(){let e;try{e=document.querySelector(coilParams.content_container)}catch(e){return console.error("An error occured when attempting to retrieve the page. Invalid container."),!1}if(e)return!0;return console.error("An error occured when attempting to retrieve the page. Container not found."),!1}()){const x=coilParams.content_container,n=coilParams.paywall_title,k=coilParams.loading_content,M=coilParams.paywall_message,q=coilParams.coil_button_unpaid_message,i=coilParams.coil_button_paid_message,E=Boolean(coilParams.show_coil_button_to_members),j=coilParams.coil_button_link,o=coilParams.post_excerpt,A=coilParams.admin_missing_id_notice,T=coilParams.paywall_button_text,B=coilParams.paywall_button_link,Q=coilParams.coil_message_branding,H=coilParams.coil_button_theme,t=Boolean(coilParams.coil_button_enabled),I=coilParams.site_logo,N=coilParams.coil_logo,D=coilParams.coil_logo_white,F=coilParams.exclusive_message_theme,G=Boolean(coilParams.font_selection),J=wp.template("subscriber-only-message"),K=wp.template("split-content-message"),O=wp.template("banner-message"),R=c("p.monetize-msg");let s=!1;function a(e,o){const t=document.createElement("p");return t.classList.add("monetize-msg"),o&&t.classList.add(o),t.innerHTML=e,t}function r(e){const o=document.createElement("div");o.classList.add("entry-content","coil-message-container"),"dark"===F&&o.classList.add("coil-dark-theme"),G&&o.classList.add("coil-inherit-theme-font");let t="";"site_logo"===Q?t='<img src="'+I+'"></img>':"coil_logo"===Q&&"dark"===F?t='<img src="'+D+'"></img>':"coil_logo"===Q&&(t='<img src="'+N+'"></img>');e={headerLogo:t,title:n,content:e,button:{text:T,href:B}};return c(o).append(J(e)),o}function l(e){const o=document.createElement("div");o.classList.add("coil-banner-message-container");let t="";t="light"===H?(o.classList.add("coil-light-theme"),'<img src="'+N+'"></img>'):'<img src="'+D+'"></img>';e={headerLogo:t,button:{text:e,href:j}};return c(o).append(O(e)),o}function m(e){return K(e)}function d(){const e=document.querySelector(x);e&&(e.style.display="block")}function u(){if(""!==o){const e=document.createElement("p");return e.classList.add("coil-post-excerpt"),e.innerHTML=o,e}}function g(){return jQuery("p.coil-post-excerpt").remove()}function p(){var e=document.body.classList.contains("coil-monetized"),o=document.body.classList.contains("coil-public");return e&&o}function b(){return document.body.classList.contains("coil-exclusive")}function h(){return t&&document.body.classList.contains("show-coil-button")}function f(){var e=document.body.classList.contains("coil-monetized"),o=document.body.classList.contains("coil-gate-tagged-blocks");return e&&o}function y(){return".content-area .entry-content"===x}function w(){return!!document.body.classList.contains("coil-show-excerpt")}function _(){0<c("p.monetize-msg").length&&(c("p.monetize-msg").remove(),b()?w()&&u()?(document.body.classList.add("show-excerpt-message"),c(x).before(r(M)),c(x).prepend(u())):(document.body.classList.add("show-fw-message"),c(x).before(r(M))):f()?(c(".coil-show-monetize-users").prepend(m(M)),c(".coil-show-monetize-users").css("display","block"),d()):(document.body.classList.add("show-fw-message"),document.querySelector(x).before(r(M))))}function z(e){c("#js-coil-banner-dismiss").on("click",function(){v(e)||("ShowCoilPublicMsg"===e?Cookies.set(e,1,{expires:31}):"ShowCoilPartialMsg"===e&&Cookies.set(e,1),c(this).parent().parent().remove())})}function v(e){var o=Cookies.get(e);return void 0!==o&&("ShowCoilPublicMsg"===e||"ShowCoilPartialMsg"===e)&&"1"===o}function P(){document.body.classList.contains("coil-missing-id")?(document.body.classList.contains("coil-show-admin-notice")?c(x).before(a(A,"admin-message")):c("body").removeClass("coil-missing-id"),p()||y()||(d(),c(x+"*.coil-hide-monetize-users").css("display","none"),c(x+"*.coil-show-monetize-users").css("display","none")),c("body").trigger("coil-missing-id")):p()||(b()&&w()?(c(x).before(u()),c(x).after(a(k,""))):document.querySelector(x).before(a(k,"")),setTimeout(function(){R.html(k)},2e3),setTimeout(function(){g(),_()},5e3));var e=h(),o=0!==c(".coil-banner-message-container").length,t=v("ShowCoilPublicMsg"),n=0!==c("p.monetize-msg").length;!e||o||t||n||(c("body").append(l(q)),z("ShowCoilPublicMsg"))}function L(){(b()||f())&&(g(),function(){const e=document.querySelector(x);e&&(e.style.display="none")}(),document.querySelector(x).before(a(k,""))),setTimeout(function(){!1===s&&c("p.monetize-msg").text()===k&&_()},5e3);var e=h(),o=0!==c(".coil-banner-message-container").length,t=v("ShowCoilPublicMsg"),n=0!==c("p.monetize-msg").length,i=0!==c(".coil-message-container").length;!e||o||t||n||i||(c("body").append(l(q)),z("ShowCoilPublicMsg"))}function C(e){var o,t;s=!0,document.body.classList.contains("show-fw-message")&&c("body").removeClass("show-fw-message"),c("body").removeClass("monetization-not-initialized").addClass("monetization-initialized"),R.remove(),w()&&c("p.coil-post-excerpt").remove(),b()?c(".entry-content.coil-message-container").remove():f()&&(c(".coil-show-monetize-users").removeClass("coil-show-monetize-users"),c(".coil-split-content-message").remove(),c("*.coil-hide-monetize-users").css("display","none")),d(),document.querySelectorAll("iframe, object, video").forEach(function(e){return!(!e.classList.contains("intrinsic-ignore")&&!e.parentNode.classList.contains("intrinsic-ignore"))||void(e.dataset.origwidth||(e.setAttribute("data-origwidth",e.width),e.setAttribute("data-origheight",e.height)))}),c("body").trigger("coil-monetization-initialized",[e]),0<c("p.monetize-msg").length&&c("p.monetize-msg").remove(),jQuery(window).trigger("resize"),E?(o=h(),t=0!==c(".coil-banner-message-container").length,e=v("ShowCoilPublicMsg"),t?c(".coil-banner-message-button a").text(i):o&&!e&&(c("body").append(l(i)),z("ShowCoilPublicMsg"))):c(".coil-banner-message-container").remove()}function S(e){var o=e.detail.paymentPointer,t=e.detail.requestId,n=e.detail.amount,i=e.detail.assetCode,s=e.detail.assetScale;c("body").trigger("coil-monetization-progress",[e,o,t,n,i,s])}function e(){if(document.body.classList.contains("monetization-not-initialized"))if(p()||y()||c(x).not(".coil-post-excerpt").hide(),void 0!==document.monetization){var e,o,t,n,i;switch(document.monetization.state){case"pending":P();break;case"started":document.querySelector(x).before(a(k,"")),c(".coil-message-container").remove();break;case"stopped":L()}document.monetization.addEventListener("monetizationstart",C),document.monetization.addEventListener("monetizationprogress",S)}else window.Cypress&&window.Cypress.monetized||(c("body").removeClass("monetization-not-initialized").addClass("coil-extension-not-found"),b()?(c(x).before(r(M)),w()&&u()?(document.body.classList.add("show-excerpt-message"),c(x).prepend(u())):document.body.classList.add("show-fw-message")):f()?(c(".coil-show-monetize-users").prepend(m(M)),d()):(e=h(),o=0!==c(".coil-banner-message-container").length,t=v("ShowCoilPublicMsg"),n=0!==c("p.monetize-msg").length,i=0!==c(".coil-message-container").length,!e||o||t||n||i||(c("body").append(l(q)),z("ShowCoilPublicMsg"))),c("body").trigger("coil-extension-not-found"))}c(document).ready(function(){document.addEventListener("coilstart",C),e()})}}(jQuery);