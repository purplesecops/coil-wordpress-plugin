/*! Coil Web Monetization for WordPress v1.9.0 Wednesday 16th March 2022 11:59:56 AM GMT+0200 */
!function(i){if("undefined"!=typeof coilAdminParams&&coilAdminParams.ajax_url){const n=coilAdminParams.site_logo_url,c=coilAdminParams.coil_logo_url.light,a=coilAdminParams.coil_logo_url.dark,e=coilAdminParams.not_monetized_post_types,o=coilAdminParams.exclusive_post_types,s=coilAdminParams.general_modal_msg,r=coilAdminParams.exclusive_modal_msg,u=coilAdminParams.invalid_payment_pointer_msg,_=i(".nav-tab-wrapper a.nav-tab-active").attr("id"),g="#EE4852",p=i("form").serialize();let l=!1;if("coil-welcome-settings"===_&&(0===i(".coil-welcome-notice").length?i(".tab-styling .button-primary").show():i(".tab-styling .button-primary").hide()),"coil-general-settings"===_){const d=i(".coil-no-payment-pointer-notice");0<d.length&&(d.hide(),0<i("#setting-error-settings_updated").length&&d.show())}function t(t,e,o,i){let n="";e.forEach(t=>{document.getElementById(t+o).checked&&(n+=t+"s, ")}),0<n.length&&(n=n.slice(0,-2),n=n.replace(/,([^,]*)$/," and$1"),i=i.replace("{postTypes}",n),confirm(i)||"boolean"==typeof t.cancelable&&!t.cancelable||(t.preventDefault(),l=!1))}"coil-exclusive-settings"===_&&(i('input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]').is(":checked")?i("*.exclusive-content-section").show():i("*.exclusive-content-section").hide(),"site_logo"===i("#coil_branding option:selected").val()?i(".set-site-logo-description").show():i(".set-site-logo-description").hide()),"coil-button-settings"===_&&(i('input[name="coil_button_settings_group[coil_button_toggle]"]').is(":checked")?i("*.coil-button-section").show():i("*.coil-button-section").hide()),window.addEventListener("beforeunload",function(t){l||p===i("form").serialize()?delete t.returnValue:(t.preventDefault(),t.returnValue="")}),i(document).on("submit","form",function(){l=!0,"coil-exclusive-settings"===_?t(event,e,"_visibility_exclusive",r):"coil-general-settings"===_&&t(event,o,"_monetization_not-monetized",s)}),i(document).on("focusout","#coil_payment_pointer",function(){const t=i("#coil_payment_pointer");/^(https:\/\/.)|^(http:\/\/.)|^[\$]./.test(i(this).val())?(t.removeAttr("style"),i(".invalid-input").remove()):(t.css("border-color",g),i(".invalid-input").length||t.after('<p class="invalid-input" style="color: '+g+'">'+u+"</p>"))}),i(document).on("input","#coil_payment_pointer",function(){const t=i("#coil_payment_pointer");i(".invalid-input").length&&/^(https:\/\/.)|^(http:\/\/.)|^[\$]./.test(i(this).val())&&(t.removeAttr("style"),i(".invalid-input").remove())}),i(document).on("change",'input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]',function(){i(".exclusive-content-section").toggle()}),i(document).on("keyup","#coil_paywall_title",function(){""!==i(this).val()?i(".coil-paywall-heading").text(i(this).val()):i(".coil-paywall-heading").text(i(this).attr("placeholder"))}),i(document).on("keyup","#coil_paywall_message",function(){""!==i(this).val()?i(".coil-paywall-body").text(i(this).val()):i(".coil-paywall-body").text(i(this).attr("placeholder"))}),i(document).on("keyup","#coil_paywall_button_text",function(){""!==i(this).val()?i(".coil-paywall-cta").text(i(this).val()):i(".coil-paywall-cta").text(i(this).attr("placeholder"))}),i(document).on("change",'input[name="coil_exclusive_settings_group[coil_message_color_theme]"]',function(){var t=i(this).val(),e=i("#coil_branding").val();let o="";i(".coil-paywall-container").attr("data-theme",t),"coil_logo"===e&&(o="light"===t?c:a,i(".coil-paywall-image").attr("src",o))}),i(document).on("change","#coil_branding",function(){"site_logo"===i("#coil_branding option:selected").val()?i(".set-site-logo-description").show():i(".set-site-logo-description").hide()}),i(document).on("change","#coil_branding",function(){var t=i(this).val(),e=i('input[name="coil_exclusive_settings_group[coil_message_color_theme]"]:checked').val();let o="";i(".coil-paywall-image").removeClass("no_logo site_logo coil_logo").addClass(t),"coil_logo"===t?o="light"===e?c:a:"site_logo"===t&&(o=n,""===o?i(".site_logo").hide():i(".site_logo").show()),i(".coil-paywall-image").attr("src",o)}),i(document).on("change",'input[name="coil_exclusive_settings_group[coil_title_padlock]"]',function(){i(this).closest(".coil-row").find(".coil-column-5").toggleClass("hidden")}),i(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_position]"]',function(){var t=i(this).val();i(".coil-title-preview-container").attr("data-padlock-icon-position",t)}),i(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_style]"]',function(){const t=i(this),e=i(".coil-title-preview-container .coil-padlock-icon"),o=t.siblings("svg").clone();e.html(o)}),i(document).on("change",'input[name="coil_button_settings_group[coil_button_toggle]"]',function(){i(".coil-button-section").toggle()})}}(jQuery);