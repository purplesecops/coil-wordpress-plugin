/*! Coil Web Monetization for WordPress v1.9.0 Wednesday 16th March 2022 16:44:34 PM GMT+0200 */
!function(c){if("undefined"!=typeof coilAdminParams&&coilAdminParams.ajax_url){const l=coilAdminParams.site_logo_url,i=coilAdminParams.coil_logo_url.light,s=coilAdminParams.coil_logo_url.dark,e=coilAdminParams.not_monetized_post_types,a=coilAdminParams.exclusive_post_types,u=coilAdminParams.general_modal_msg,r=coilAdminParams.exclusive_modal_msg,_=coilAdminParams.invalid_payment_pointer_msg,p=coilAdminParams.invalid_blank_input_msg,d=coilAdminParams.invalid_url_message,m=c(".nav-tab-wrapper a.nav-tab-active").attr("id"),g="#EE4852",h=c("form").serialize();let n=!1;if("coil-welcome-settings"===m&&(0===c(".coil-welcome-notice").length?c(".tab-styling .button-primary").show():c(".tab-styling .button-primary").hide()),"coil-general-settings"===m){const v=c(".coil-no-payment-pointer-notice");0<v.length&&(v.hide(),0<c("#setting-error-settings_updated").length&&v.show())}function t(t,o,e,l){let i="";o.forEach(t=>{document.getElementById(t+e).checked&&(i+=t+"s, ")}),0<i.length&&(i=i.slice(0,-2),i=i.replace(/,([^,]*)$/," and$1"),l=l.replace("{postTypes}",i),confirm(l)||"boolean"==typeof t.cancelable&&!t.cancelable||(t.preventDefault(),n=!1))}function o(o,t,e){const l=o.next();let i=null;if(null!==l&&l.hasClass("invalid-input")&&(i=l),t)null!==i&&(o.removeAttr("style"),i.remove());else if(o.css("border-color",g),null===i){o.after('<p class="invalid-input" style="color: '+g+'">'+e+"</p>");o=o.prev().position();let t;t=void 0!==o?o.top:0,c("html, body").animate({scrollTop:t+"px"})}}"coil-exclusive-settings"===m&&(c('input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]').is(":checked")?c("*.exclusive-content-section").show():c("*.exclusive-content-section").hide(),"site_logo"===c("#coil_branding option:selected").val()?c(".set-site-logo-description").show():c(".set-site-logo-description").hide()),"coil-button-settings"===m&&(c('input[name="coil_button_settings_group[coil_button_toggle]"]').is(":checked")?c("*.coil-button-section").show():c("*.coil-button-section").hide()),window.addEventListener("beforeunload",function(t){n||h===c("form").serialize()?delete t.returnValue:(t.preventDefault(),t.returnValue="")}),c(document).on("submit","form",function(){n=!0,"coil-exclusive-settings"===m?t(event,e,"_visibility_exclusive",r):"coil-general-settings"===m&&t(event,a,"_monetization_not-monetized",u)}),c(document).on("focusout","#coil_payment_pointer",function(){o(c("#coil_payment_pointer"),/^(https:\/\/.)|^[\$]./.test(c(this).val()),_)}),c(document).on("input","#coil_payment_pointer",function(){const t=c("#coil_payment_pointer");const o=t.next();let e=null;null!==o&&o.hasClass("invalid-input")&&(e=o),null!==e&&/^(https:\/\/.)|^[\$]./.test(c(this).val())&&(t.removeAttr("style"),e.remove())}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]',function(){c(".exclusive-content-section").toggle()}),c(document).on("input","#coil_paywall_title",function(){""!==c(this).val()?c(".coil-paywall-heading").text(c(this).val()):c(".coil-paywall-heading").text(c(this).attr("placeholder"))}),c(document).on("input","#coil_paywall_message",function(){""!==c(this).val()?c(".coil-paywall-body").text(c(this).val()):c(".coil-paywall-body").text(c(this).attr("placeholder"))}),c(document).on("focusout","#coil_paywall_button_text",function(){o(c("#coil_paywall_button_text"),!/^\s+$/.test(c(this).val()),p)}),c(document).on("input","#coil_paywall_button_text",function(){const t=c("#coil_paywall_button_text"),o=t.next();let e=null;null!==o&&o.hasClass("invalid-input")&&(e=o);const l=/^\s+$/;""===c(this).val()||l.test(c(this).val())?c(".coil-paywall-cta").text(c(this).attr("placeholder")):c(".coil-paywall-cta").text(c(this).val()),l.test(c(this).val())?(t.css("border-color",g),null===e&&t.after('<p class="invalid-input" style="color: '+g+'">'+p+"</p>")):null!==e&&(t.removeAttr("style"),e.remove())}),c(document).on("focusout","#coil_paywall_button_link",function(){o(c("#coil_paywall_button_link"),(t=>{let o;try{o=new URL(t)}catch(t){return!1}return"http:"===o.protocol||"https:"===o.protocol})(c(this).val())||""===c(this).val(),d)}),c(document).on("input","#coil_paywall_button_link",function(){const t=c("#coil_paywall_button_link"),o=t.next();let e=null;null!==o&&o.hasClass("invalid-input")&&(e=o);/^\s+$/.test(c(this).val())?(t.css("border-color",g),null===e&&t.after('<p class="invalid-input" style="color: '+g+'">'+p+"</p>")):null!==e&&(t.removeAttr("style"),e.remove())}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_message_color_theme]"]',function(){var t=c(this).val(),o=c("#coil_branding").val();let e="";c(".coil-paywall-container").attr("data-theme",t),"coil_logo"===o&&(e="light"===t?i:s,c(".coil-paywall-image").attr("src",e))}),c(document).on("change","#coil_branding",function(){"site_logo"===c("#coil_branding option:selected").val()?c(".set-site-logo-description").show():c(".set-site-logo-description").hide()}),c(document).on("change","#coil_branding",function(){var t=c(this).val(),o=c('input[name="coil_exclusive_settings_group[coil_message_color_theme]"]:checked').val();let e="";c(".coil-paywall-image").removeClass("no_logo site_logo coil_logo").addClass(t),"coil_logo"===t?e="light"===o?i:s:"site_logo"===t&&(e=l,""===e?c(".site_logo").hide():c(".site_logo").show()),c(".coil-paywall-image").attr("src",e)}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_title_padlock]"]',function(){c(this).closest(".coil-row").find(".coil-column-5").toggleClass("hidden")}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_position]"]',function(){var t=c(this).val();c(".coil-title-preview-container").attr("data-padlock-icon-position",t)}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_style]"]',function(){const t=c(this),o=c(".coil-title-preview-container .coil-padlock-icon"),e=t.siblings("svg").clone();o.html(e)}),c(document).on("change",'input[name="coil_button_settings_group[coil_button_toggle]"]',function(){c(".coil-button-section").toggle()})}}(jQuery);