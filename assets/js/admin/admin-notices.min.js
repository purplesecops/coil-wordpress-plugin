/*! Coil Web Monetization for WordPress v1.9.0 Wednesday 16th March 2022 13:40:31 PM GMT+0200 */
!function(l){if("undefined"!=typeof coilAdminParams&&coilAdminParams.ajax_url){const i=coilAdminParams.site_logo_url,c=coilAdminParams.coil_logo_url.light,a=coilAdminParams.coil_logo_url.dark,o=coilAdminParams.not_monetized_post_types,e=coilAdminParams.exclusive_post_types,s=coilAdminParams.general_modal_msg,r=coilAdminParams.exclusive_modal_msg,u=coilAdminParams.invalid_payment_pointer_msg,p=coilAdminParams.invalid_button_text_msg,_=l(".nav-tab-wrapper a.nav-tab-active").attr("id"),d="#EE4852",g=l("form").serialize();let n=!1;if("coil-welcome-settings"===_&&(0===l(".coil-welcome-notice").length?l(".tab-styling .button-primary").show():l(".tab-styling .button-primary").hide()),"coil-general-settings"===_){const m=l(".coil-no-payment-pointer-notice");0<m.length&&(m.hide(),0<l("#setting-error-settings_updated").length&&m.show())}function t(t,o,e,i){let l="";o.forEach(t=>{document.getElementById(t+e).checked&&(l+=t+"s, ")}),0<l.length&&(l=l.slice(0,-2),l=l.replace(/,([^,]*)$/," and$1"),i=i.replace("{postTypes}",l),confirm(i)||"boolean"==typeof t.cancelable&&!t.cancelable||(t.preventDefault(),n=!1))}"coil-exclusive-settings"===_&&(l('input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]').is(":checked")?l("*.exclusive-content-section").show():l("*.exclusive-content-section").hide(),"site_logo"===l("#coil_branding option:selected").val()?l(".set-site-logo-description").show():l(".set-site-logo-description").hide()),"coil-button-settings"===_&&(l('input[name="coil_button_settings_group[coil_button_toggle]"]').is(":checked")?l("*.coil-button-section").show():l("*.coil-button-section").hide()),window.addEventListener("beforeunload",function(t){n||g===l("form").serialize()?delete t.returnValue:(t.preventDefault(),t.returnValue="")}),l(document).on("submit","form",function(){n=!0,"coil-exclusive-settings"===_?t(event,o,"_visibility_exclusive",r):"coil-general-settings"===_&&t(event,e,"_monetization_not-monetized",s)}),l(document).on("focusout","#coil_payment_pointer",function(){const t=l("#coil_payment_pointer");var o;/^(https:\/\/.)|^(http:\/\/.)|^[\$]./.test(l(this).val())?(t.removeAttr("style"),l(".invalid-input").remove()):(t.css("border-color",d),l(".invalid-input").length||(t.after('<p class="invalid-input" style="color: '+d+'">'+u+"</p>"),o=l(".invalid-input").prev().prev().position(),l("html, body").animate({scrollTop:o.top+"px"})))}),l(document).on("input","#coil_payment_pointer",function(){const t=l("#coil_payment_pointer");l(".invalid-input").length&&/^(https:\/\/.)|^(http:\/\/.)|^[\$]./.test(l(this).val())&&(t.removeAttr("style"),l(".invalid-input").remove())}),l(document).on("change",'input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]',function(){l(".exclusive-content-section").toggle()}),l(document).on("input","#coil_paywall_title",function(){""!==l(this).val()?l(".coil-paywall-heading").text(l(this).val()):l(".coil-paywall-heading").text(l(this).attr("placeholder"))}),l(document).on("input","#coil_paywall_message",function(){""!==l(this).val()?l(".coil-paywall-body").text(l(this).val()):l(".coil-paywall-body").text(l(this).attr("placeholder"))}),l(document).on("focusout","#coil_paywall_button_text",function(){const t=l("#coil_paywall_button_text"),o=t.next();let e=null;null!==o&&o.hasClass("invalid-input")&&(e=o);var i;/^\s+$/.test(l(this).val())?(t.css("border-color",d),null===e&&(t.after('<p class="invalid-input" style="color: '+d+'">'+p+"</p>"),i=l(".invalid-input").prev().prev().position(),l("html, body").animate({scrollTop:i.top+"px"}))):(t.removeAttr("style"),e.remove())}),l(document).on("input","#coil_paywall_button_text",function(){const t=l("#coil_paywall_button_text"),o=t.next();let e=null;null!==o&&o.hasClass("invalid-input")&&(e=o);const i=/^\s+$/;""===l(this).val()||i.test(l(this).val())?l(".coil-paywall-cta").text(l(this).attr("placeholder")):l(".coil-paywall-cta").text(l(this).val()),i.test(l(this).val())?(t.css("border-color",d),null===e&&t.after('<p class="invalid-input" style="color: '+d+'">'+p+"</p>")):null!==e&&(t.removeAttr("style"),e.remove())}),l(document).on("change",'input[name="coil_exclusive_settings_group[coil_message_color_theme]"]',function(){var t=l(this).val(),o=l("#coil_branding").val();let e="";l(".coil-paywall-container").attr("data-theme",t),"coil_logo"===o&&(e="light"===t?c:a,l(".coil-paywall-image").attr("src",e))}),l(document).on("change","#coil_branding",function(){"site_logo"===l("#coil_branding option:selected").val()?l(".set-site-logo-description").show():l(".set-site-logo-description").hide()}),l(document).on("change","#coil_branding",function(){var t=l(this).val(),o=l('input[name="coil_exclusive_settings_group[coil_message_color_theme]"]:checked').val();let e="";l(".coil-paywall-image").removeClass("no_logo site_logo coil_logo").addClass(t),"coil_logo"===t?e="light"===o?c:a:"site_logo"===t&&(e=i,""===e?l(".site_logo").hide():l(".site_logo").show()),l(".coil-paywall-image").attr("src",e)}),l(document).on("change",'input[name="coil_exclusive_settings_group[coil_title_padlock]"]',function(){l(this).closest(".coil-row").find(".coil-column-5").toggleClass("hidden")}),l(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_position]"]',function(){var t=l(this).val();l(".coil-title-preview-container").attr("data-padlock-icon-position",t)}),l(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_style]"]',function(){const t=l(this),o=l(".coil-title-preview-container .coil-padlock-icon"),e=t.siblings("svg").clone();o.html(e)}),l(document).on("change",'input[name="coil_button_settings_group[coil_button_toggle]"]',function(){l(".coil-button-section").toggle()})}}(jQuery);