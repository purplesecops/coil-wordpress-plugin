/*! Coil Web Monetization for WordPress v1.9.0 Wednesday 9th March 2022 16:02:50 PM GMT+0200 */
!function(o){if("undefined"!=typeof coilAdminParams&&coilAdminParams.ajax_url){const t=coilAdminParams.ajax_url,l=coilAdminParams.site_logo_url,c=coilAdminParams.coil_logo_url.light,a=coilAdminParams.coil_logo_url.dark,i=coilAdminParams.not_monetized_post_types,s=coilAdminParams.exclusive_post_types,u=coilAdminParams.general_modal_msg,_=coilAdminParams.exclusive_modal_msg,r=o(".nav-tab-wrapper a.nav-tab-active").attr("id"),g=o("form").serialize();let n=!1;if("coil-welcome-settings"===r){const d=o(".coil-welcome-notice");if(0===d.length)return;o(".tab-styling .button-primary").addClass("disabled"),d.on("click",".notice-dismiss",function(){o.ajax({url:t,type:"POST",data:{action:"dismiss_welcome_notice"}}),o(".tab-styling .button-primary").removeClass("disabled")})}if("coil-exclusive-settings"===r&&(o('input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]').is(":checked")?o("*.exclusive-content-section").show():o("*.exclusive-content-section").hide()),"coil-button-settings"===r&&(o('input[name="coil_button_settings_group[coil_button_toggle]"]').is(":checked")?o("*.coil-button-section").show():o("*.coil-button-section").hide()),"coil-general-settings"===r){const m=o(".coil-no-payment-pointer-notice");0<m.length&&(m.hide(),0<o("#setting-error-settings_updated").length&&m.show())}function e(e,t,i,o){let l="";t.forEach(e=>{document.getElementById(e+i).checked&&(l+=e+"s, ")}),0<l.length&&(l=l.slice(0,-2),l=l.replace(/,([^,]*)$/," and$1"),o=o.replace("{postTypes}",l),confirm(o)||"boolean"==typeof e.cancelable&&!e.cancelable||(e.preventDefault(),n=!1))}o(document).on("submit","form",function(){n=!0,"coil-exclusive-settings"===r?e(event,i,"_visibility_exclusive",_):"coil-general-settings"===r&&e(event,s,"_monetization_not-monetized",u)}),o(document).on("change",'input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]',function(){o(".exclusive-content-section").toggle()}),o(document).on("change",'input[name="coil_button_settings_group[coil_button_toggle]"]',function(){o(".coil-button-section").toggle()}),o(document).on("keyup","#coil_paywall_title",function(){""!==o(this).val()?o(".coil-paywall-heading").text(o(this).val()):o(".coil-paywall-heading").text(o(this).attr("placeholder"))}),o(document).on("keyup","#coil_paywall_message",function(){""!==o(this).val()?o(".coil-paywall-body").text(o(this).val()):o(".coil-paywall-body").text(o(this).attr("placeholder"))}),o(document).on("keyup","#coil_paywall_button_text",function(){""!==o(this).val()?o(".coil-paywall-cta").text(o(this).val()):o(".coil-paywall-cta").text(o(this).attr("placeholder"))}),o(document).on("change",'input[name="coil_exclusive_settings_group[coil_title_padlock]"]',function(){o(this).closest(".coil-row").find(".coil-column-5").toggleClass("hidden")}),o(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_position]"]',function(){var e=o(this).val();o(".coil-title-preview-container").attr("data-padlock-icon-position",e)}),o(document).on("change",'input[name="coil_exclusive_settings_group[coil_message_color_theme]"]',function(){var e=o(this).val(),t=o("#coil_branding").val();let i="";o(".coil-paywall-container").attr("data-theme",e),"coil_logo"===t&&(i="light"===e?c:a,o(".coil-paywall-image").attr("src",i))}),o(document).on("change","#coil_branding",function(){var e=o(this).val(),t=o('input[name="coil_exclusive_settings_group[coil_message_color_theme]"]:checked').val();let i="";o(".coil-paywall-image").removeClass("no_logo site_logo coil_logo").addClass(e),"coil_logo"===e?i="light"===t?c:a:"site_logo"===e&&(i=l),o(".coil-paywall-image").attr("src",i)}),o(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_style]"]',function(){const e=o(this),t=o(".coil-title-preview-container .coil-padlock-icon"),i=e.siblings("svg").clone();t.html(i)}),window.addEventListener("beforeunload",function(e){n||g===o("form").serialize()?delete e.returnValue:(e.preventDefault(),e.returnValue="")})}}(jQuery);